# buffer和cache

指free命令中显示的buffer/cache。

## buffer

通常理解为向磁盘**写**数据的缓存，实际上更准确的定义应该是：

> 作为**buffer cache**的内存，是**磁盘块（即扇区）**的**读写**缓冲区。

- 对原始磁盘块的临时存储，也就是用来缓存磁盘的数据，通常不会特别大（20MB左右）。
- 内核可以把分散的写集中起来，统一优化磁盘的写入，比如可以把多次小的写合并成单次大的写。
- 既可以用作“将要写入磁盘数据的缓存”，也可以用作“从磁盘读取数据的缓存”。
- 数据可以是来自一个磁盘上任意一个扇区的数据。

## cache

通常理解为文件的**读**缓存，实际上更准确的定义应该是：

> 作为**page cache**的内存，是**文件系统**的**读写**缓冲区。

- 从磁盘读取文件的页缓存，也就是用来缓存从文件读取的数据。
- 既可以用作“从文件读取数据的页缓存”，也可以用作“写文件的页缓存”。
- 数据肯定是文件系统下的文件的data数据所存放的那些扇区。
